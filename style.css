/* --- Estilos Generales y Reseteo --- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background-color: #1a1a2e; /* Fondo oscuro espacial */
    color: #e0e0e0; /* Color de texto principal */
    font-family: 'Press Start 2P', cursive; /* Fuente pixelada de Google Fonts */
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    overflow: hidden; /* Evita barras de scroll por la animación */
}

/* --- Encabezado y Título --- */
header {
    text-align: center;
    padding: 20px;
    border-bottom: 4px solid #f92a82; /* Borde neón */
    text-shadow: 0 0 10px #f92a82; /* Sombra de texto para efecto neón */
}

header h1 {
    font-size: 2.5rem;
    color: #fff;
    animation: flicker 1.5s infinite alternate; /* Animación de parpadeo */
}

/* --- Contenedor del Personaje Animado --- */
.character-container {
    width: 100%;
    height: 40px; /* Altura de la franja donde se mueve */
    position: relative;
    margin-top: 15px;
}

.character {
    width: 30px;
    height: 30px;
    background-color: #fbd238; /* Color amarillo del personaje */
    border: 3px solid #1a1a2e;
    position: absolute;
    bottom: 0;
    /* La magia de la animación */
    animation: moveAcross 15s linear infinite;
}

/* --- Menú de Navegación --- */
nav {
    background-color: #0f0c29; /* Fondo más oscuro para el menú */
    padding: 10px 0;
    border-bottom: 4px solid #f92a82;
}

nav ul {
    display: flex; /* Pone los elementos en fila */
    justify-content: center; /* Centra los elementos */
    flex-wrap: wrap; /* <-- ESTILO ORIGINAL RESTAURADO (permite que baje a 2 líneas) */
    list-style: none; /* Quita los puntos de la lista */
}

/* AÑADIDO: Damos posición relativa al 'li' padre */
nav ul li {
    position: relative; /* Necesario para anclar el submenú */
}

nav ul li a {
    color: #fff;
    text-decoration: none;
    padding: 10px 20px;
    display: block;
    transition: all 0.3s ease; /* Transición suave para el hover */
}

nav ul li a:hover {
    background-color: #f92a82; /* Color de fondo al pasar el ratón */
    color: #0f0c29;
    text-shadow: none;
}


/* ===============================================
--- NUEVA SECCIÓN: Estilos para Submenús ---
===============================================
*/

/* 1. El contenedor <ul> del submenú (oculto por defecto) */
nav ul li ul {
    display: none; /* Oculto hasta que se haga hover */
    position: absolute;
    top: 100%; /* Se posiciona justo debajo del 'li' padre */
    left: 0;
    
    /* Estilos para que coincida con el tema */
    background-color: #0f0c29; /* Mismo fondo que la barra de nav */
    border: 4px solid #f92a82; /* Mismo borde neón */
    border-top: none; /* Quitamos borde superior para que parezca "unido" */
    
    min-width: 280px; /* Ancho mínimo para que quepa el texto */
    z-index: 100; /* Asegura que esté por encima de todo */
}

/* 2. Mostrar el submenú al hacer hover sobre el 'li' padre */
nav ul li:hover > ul {
    display: block;
}

/* 3. Los 'li' del submenú */
nav ul li ul li {
    width: 100%; /* Ocupa todo el ancho del desplegable */
}

/* 4. Los enlaces <a> del submenú */
nav ul li ul li a {
    text-align: left; /* Alinea el texto a la izquierda (mejor para menús) */
    padding: 12px 20px;
    font-size: 0.9em; /* Fuente un poco más pequeña */
}

/* NOTA: La regla 'nav ul li a:hover' que ya tenías
   se aplicará automáticamente a estos enlaces, 
   así que no necesitamos repetirla.
*/


/* --- Contenido Principal (Iframe) --- */
main {
    flex-grow: 1; /* Hace que el contenedor principal ocupe el espacio restante */
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
}

.content-frame {
    width: 100%;
    height: 100%;
    border: none; /* Quitamos el borde feo del iframe */
    position: absolute;
    top: 0;
    left: 0;
    /* Fondo transparente al inicio */
}

.welcome-message {
    text-align: center;
    pointer-events: none; /* Permite hacer clic a través del mensaje al iframe */
    
    /* CAMBIO 1: 
       Cambiamos z-index a 1 (para ponerlo por ENCIMA)
       y añadimos 'transition'
    */
    z-index: 1; 
    transition: opacity 0.5s ease;
}

.welcome-message h2 {
    font-size: 2rem;
    color: #fbd238;
}

/* --- Keyframes para Animaciones --- */

/* Animación de parpadeo para el título */
@keyframes flicker {
    0%, 18%, 22%, 25%, 53%, 57%, 100% {
        text-shadow:
        0 0 4px #fff,
        0 0 11px #f92a82,
        0 0 19px #f92a82,
        0 0 40px #f92a82;
    }
    20%, 24%, 55% {
        text-shadow: none;
    }
}

/* Animación del personaje moviéndose */
@keyframes moveAcross {
    0% {
        left: -30px; /* Empieza fuera de la pantalla a la izquierda */
        transform: scaleX(1); /* Mirando a la derecha */
    }
    49% {
        transform: scaleX(1); /* Mantiene la dirección */
    }
    50% {
        left: calc(100% + 30px); /* Llega al final de la pantalla */
        transform: scaleX(-1); /* Se gira para mirar a la izquierda */
    }
    99% {
        transform: scaleX(-1); /* Mantiene la dirección */
    }
    100% {
        left: -30px; /* Vuelve al inicio */
        transform: scaleX(1); /* Se gira de nuevo para el siguiente ciclo */
    }
}

/* CAMBIO 2: 
   AÑADIMOS ESTAS REGLAS NUEVAS AL FINAL
*/

/* 1. Oculta el mensaje de bienvenida cuando se carga contenido */
main.content-loaded .welcome-message {
    opacity: 0;
}

/* 2. Pone el fondo blanco al iframe SÓLO cuando se carga contenido */
main.content-loaded .content-frame {
    background-color: #fff;
}